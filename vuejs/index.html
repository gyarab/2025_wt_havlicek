<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meziplanetární výlet</title>
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" 
          rel="stylesheet" 
          integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" 
          crossorigin="anonymous">
    <style>
        .box {
            border: 3px solid #000;    
            border-radius: 6px;        
            padding: 20px;
            width: 60%;                
            margin: 40px auto;
            background: #ffffff;
        }
        h1 {
            text-align: center;
        }
    </style>
</head>
<body>
<div id="app">
    <h1>Registrace na meziplanetární výlet</h1>

    <form class="box" @submit.prevent="handleForm">    
        <div class="mb-3">
            <label>Jméno astronauta</label>
            <input class="form-control" type="text" placeholder="Napište jméno" v-model="trip.name">
        </div>

        <div class="mb-3">
            <label>Destinace</label>
            <select class="form-select" v-model="trip.destinace">
                <option disabled value="">Vyber planetu…</option>
                <option value="Mars">Mars – pro introverty, co nemusí kyslík</option>
                <option value="Měsíc">Měsíc – víkendovka s dobrou Wi-Fi</option>
                <option value="Jupiter">Jupiter – jen pro opravdu odolné</option>
                <option value="Pluto">Pluto – technicky možná ne planeta, ale proč ne</option>
            </select>    
        </div>

        <div class="mb-3">
            <label>Počet dní</label>
            <input type="number" class="form-control" placeholder="0" v-model.number="trip.pocetdni" min="1">
        </div>

        <div class="mb-3 form-check">
            <input type="checkbox" id="terms" class="form-check-input" v-model="trip.accepted">
            <label for="terms" class="form-check-label">
                Souhlasím, že se může stát, že se vrátím o něco později, než je plánováno.
            </label>
        </div>

        <button class="btn btn-primary w-100" :disabled="!isValid">Odeslat přihlášku</button>

        <p class="mt-3 text-muted">Tento formulář nikam data neposílá - vše se děje pouze v prohlížeči</p>
    </form>

    <div class="box">
        <h2>Palubní lístek</h2> 
        <p class="text-muted">
            Jméno: <strong>{{trip.name}}</strong><br>
            Destinace: <strong>{{trip.destinace}}</strong><br>
            Počet dní: <strong>{{trip.pocetdni}}</strong><br>
            Odhadovaná cena: <strong>{{price}} kreditů</strong>
        </p>
        <p>Pokud si to rozmyslíš, můžeš formulář upravit a palubní lístek se automaticky aktualizuje.</p>
    </div>
</div>

<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" 
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" 
        crossorigin="anonymous"></script>

<script>
const app = Vue.createApp({
    data() {
        return {
            trip: {
                name: "",
                destinace: "",
                pocetdni: 0,
                accepted: false
            }
        }
    },
    computed: {
        isValid() {
            return this.trip.name && this.trip.destinace && this.trip.pocetdni > 0 && this.trip.accepted;
        },
        price() {
            // Cena 400 kreditů za den
            return this.trip.pocetdni * 400;
        }
    },
    methods: {
        handleForm() {
            return true
        }
    }
});

app.mount('#app');
</script>

</body>
</html>
